\documentclass{ximera}
\input{../../../preamble.tex}

\author{Zack Reed}
%borrowed from Anna Davis and Gilbert Strang
\title{Vector Spaces and Subspaces}\license{CC BY-NC-SA 4.0}

\begin{document}
\begin{abstract}

\end{abstract}
\maketitle


\subsection*{Vector Spaces}

Let's conclude this section by nailing down some important properties of these spaces that we've been discussing.

One important feature of this section is that we will bring some clarity and rigor to concepts that we have been discussing so far. We begin with the most fundamental idea for the course, that of a \emph{vector space}.

Thus far, we've been loosely characterizing vector spaces as sets of vectors for which addition and scalar multiplication makes sense. We now make this more specific and rigorous.

\begin{definition}
  A vector space $V$ is a set of of elements called vectors such that the following are true:
  
  \begin{enumerate}
    \item $\vec{0}$ is in $V$
    \item If $\vec{v}$ and $\vec{w}$ are in $V$, then $\vec{v}+\vec{w}$ is also in $V$.
    \item If $\vec{v}$ is in $V$ and $\lambda$ is a real number, $\lambda\vec{v}$ is in $V$.
  \end{enumerate}

  As we can see, the loose characterization of vector spaces as sets in which addition and scalar multiplication makes sense was not far off from the rigorous definition.
\end{definition}

In this chapter, we have attended to many important sets of vectors. Here, we note that each of the fundamental spaces discussed in the chapter are indeed vector spaces in their own right, living in ambient vector spaces $\RR^n$. These contained vector spaces are called \emph{subspaces}.



\begin{definition}{Subspace}

  
  A vector space $W$ is a subspace of a vector space $V$ is $W$ is entirely contained within $V$, and is itself a vector space. 


\end{definition}

\begin{example}
  
  $\RR^2$ is a subspace of $\RR^3$, but not of $\RR^1$ since $\RR^2$ is not contained within $\RR^1$. 

\end{example}

Importantly, all of the spaces we've discussed so far (images, kernels, null spaces) are all subspaces of the domain and co-domain of a transformation. 

Much of our analysis so far has utilized $\mbox{span}$ to create the kernels and images of transformations, it's worth nailing down a fact about span to help us.

\begin{theorem}

  If $S=\lbrace v_1, \ldots, v_m\rbrace$ is a set of vectors in $\RR^n$, then $\mbox{span}(S)$ is a subspace of $\RR^n$

\end{theorem}

This immediately situates the kernel, nullspace, image, and column spaces that we've been discussing as subspaces of their ambient space. 

\begin{example}

  We saw  that the image of the transformation given by 

  $$A=\begin{bmatrix}1&2&3\\2&4&6\end{bmatrix}$$

  is the line $\mbox{span}\left(\begin{bmatrix}1\\2\end{bmatrix}\right)$

  \begin{center}
    \begin{tikzpicture}[scale=.7]
     
      % Left image
      \node at (1.5, 3.5) {$\mathbb{R}^3$}; % Title for the left image
      \draw[->] (0,0)--(3,0); % x-axis
      \draw[->] (0,0)--(0,3); % y-axis
      \draw[->] (0,0)--(-1.5,-1); % diagonal axis
    
      % Random multicolored points in the left image
      \foreach \x/\y/\color in {0.5/1/red, 1/0.5/green, 1.5/2/blue, 2/1.5/orange, 0.8/0.8/purple, -1.5/.5/red, -.75/-.5/blue, -.2/1.25/red, .25/1.25/orange} {
        \fill[\color] (\x, \y) circle (3pt);
      }
      
      % Right image
      \node at (6, 3.5) {$\mathbb{R}^2$}; % Title for the right image
      \draw[<->] (4,0)--(8,0); % x-axis
      \draw[<->] (5,-1)--(5,3); % y-axis
      \draw[line width=2pt,blue] (4.5,-1)--(6.5,3); % diagonal line
    
      % Labels
      \node[] at (3.25, 2) (b) {$T$};
      \draw [->,line width=1pt,-stealth] (2,1) to[out=45] (4.5, 1);
      \node[blue] at (7, 2.3) (b) {$\mbox{im}(T)$};
     
    \end{tikzpicture}
\end{center}

Hence, the line $\mbox{span}\left(\begin{bmatrix}1\\2\end{bmatrix}\right)$ is a subspace of $\RR^2$, as is $\mbox{im}(T)$ and $\mbox{col}(A)$, where $T$ is the transformation associated with $A$.

\end{example}



\begin{example}

  Also recall that the null space of the matrix 

  $$B=\begin{bmatrix}
        1 & 3 & 2 & 0 & 0  \\
        0 & 1 & 5 & 2 & 1  \\
        3 & 5 & -14 & -8 &-4  \\
        0 & 0 & 0 & 1 & 1  \\
        \end{bmatrix}$$

  was the plane $Null(B)=\text{span}\left\{ \begin{bmatrix} 13 \\ -5 \\ 1 \\ 0 \\ 0 \end{bmatrix}, \begin{bmatrix} -3 \\ 1 \\ 0 \\ -1 \\ 1 \end{bmatrix} \right\}$.
  
  This planar null space is a subspace of $\RR^5$.

\end{example}

\begin{exploration}{Domain? Or Co-Domain?}

  One detail that is important, but often confuses students until they've had enough experience with these distinctions, is whether you're looking at the domain or co-domain of a function (aka transformation).

  The key is to remember whether you're thinking about \emph{input} vectors or \emph{output} vectors.

  In the case of $Null(B)=\text{span}\left\{ \begin{bmatrix} 13 \\ -5 \\ 1 \\ 0 \\ 0 \end{bmatrix}, \begin{bmatrix} -3 \\ 1 \\ 0 \\ -1 \\ 1 \end{bmatrix} \right\}$, we are looking at \emph{input vectors}, since the question of a null space is ``Which vectors \emph{get mapped} to $\vec{0}$?''

  In the case of transformation images, we're asking about the vectors that get \emph{mapped to}.

  So the line in the image

  \begin{center}
    \begin{tikzpicture}[scale=.7]
     
      % Left image
      \node at (1.5, 3.5) {$\mathbb{R}^3$}; % Title for the left image
      \draw[->] (0,0)--(3,0); % x-axis
      \draw[->] (0,0)--(0,3); % y-axis
      \draw[->] (0,0)--(-1.5,-1); % diagonal axis
    
      % Random multicolored points in the left image
      \foreach \x/\y/\color in {0.5/1/red, 1/0.5/green, 1.5/2/blue, 2/1.5/orange, 0.8/0.8/purple, -1.5/.5/red, -.75/-.5/blue, -.2/1.25/red, .25/1.25/orange} {
        \fill[\color] (\x, \y) circle (3pt);
      }
      
      % Right image
      \node at (6, 3.5) {$\mathbb{R}^2$}; % Title for the right image
      \draw[<->] (4,0)--(8,0); % x-axis
      \draw[<->] (5,-1)--(5,3); % y-axis
      \draw[line width=2pt,blue] (4.5,-1)--(6.5,3); % diagonal line
    
      % Labels
      \node[] at (3.25, 2) (b) {$T$};
      \draw [->,line width=1pt,-stealth] (2,1) to[out=45] (4.5, 1);
      \node[blue] at (7, 2.3) (b) {$\mbox{im}(T)$};
     
    \end{tikzpicture}
\end{center}

is the set of \emph{output} vectors.

Hence, $\mbox{span}\left(\begin{bmatrix}1\\2\end{bmatrix}\right)$ is a subspace of the co-domain. 

\end{exploration}



\begin{remark}

  Images can be helpful for keeping ideas straight. 

  Here is an image depicting the fundamental spaces of matrices we've been discussing. To my knowledge, this was popularized by Gilbert Strang from MIT.

  

\begin{center}
  \includegraphics[width=22.46cm, height=13.18cm]{fundamental_spaces_1.png}
  %cite strang http://links.jstor.org/sici?sici=0002-9890%28199311%29100%3A9%3C848%3ATFTOLA%3E2.0.CO%3B2-A
\end{center}

\end{remark}



You might notice some extra terms, and also some claims about the dimensions of the spaces in this image.

We'll return to these in the next chapter. Fow now, we define the row space of a matrix and culminate in the Rank-Nullity Theorem.

We've been focusing on the \emph{column space} of a matrix $M$ because it gives us the image of the associated linear transformation. We can also talk about the \emph{row space}, which deals more with the domain of the transformation (in this case, the vectors that don't get mapped to $\vec{0}$)

\begin{definition}

  The \emph{row space} of a matrix $A$ is the span of its rows. 

\end{definition}



\begin{remark}

  You might notice in Strang's image that the vectors $x_r$ in the row space map to the column space of the matrix, and that the null space vectors $x_n$ map to $\vec{0}$. This is no coincidence, and the row space and null space only overlap at  $\vec{0}$. We'll unpack this more in the next chapter.

\end{remark}
 
You'll also notice that, according to Strang's image, $dim(\mbox{row}(A))+dim(\mbox{null}(A))=n$, and $dim(\mbox{col}(A))+dim(\mbox{null}(A^T))=m$. This is because of the Rank-Nullity Theorem.

\subsection*{Rank-Nullity Theorem for Linear Transformations}
 
\begin{definition}\label{def:nullityT}
The \dfn{nullity} of a linear transformation $T:V\rightarrow W$, is the dimension of the kernel of $T$.
$$\mbox{nullity}(T)=\mbox{dim}(\mbox{ker}(T))$$
\end{definition}

Earlier, we found the image and the kernel of the linear transformation $T:\RR^5\rightarrow \RR^4$ with standard matrix
 
$$A=\begin{bmatrix}1 & 2 & 2 &-1 & 0\\-1 & 3 & 1 & 0 & -1\\3 & 0 & 0 & 3 & 6\\ 1 & -1 & 1 & -2 & -1\end{bmatrix}$$
 
We also found that
$$\mbox{rank}(T)=\mbox{dim}(\mbox{im}(T))=\mbox{dim}(\mbox{col}(A))=\mbox{rank}(A)=3$$
and
$$\mbox{nullity}(T)=\mbox{dim}(\mbox{ker}(T))=\mbox{dim}(\mbox{null}(A))=\mbox{nullity}(A)=2$$
 
You might notice that
$$\mbox{rank}(T)+\mbox{nullity}(T)=3+2=5=\mbox{dim}(\RR^5),$$

the dimension of the domain space for $A$.
 
The following theorem confirms this property for all linear transformations.
 
\begin{theorem}\label{th:ranknullityforT}
Let $T:V\rightarrow W$ be a linear transformation, and its associated $m\times n$ matrix $A$. This means that $\mbox{dim}(V)=m$.

We can conclude that
$$\mbox{rank}(T)+\mbox{nullity}(T)=n$$
\end{theorem}
 
One consequence of this is that once you find the dimension of one of the related spaces (e.g. $\mbox{im}(A), \mbox{null}(A), \mbox{row}(A), \mbox{null}(A^T)$), you immediately know the dimensions of the other spaces!

Let's try it out.


Describe the properties of the matrix $A$ below, and the associated transformation $T$,

\begin{problem}\label{prob:imagerankoflintrans1}
$T:\RR^5\rightarrow \RR^2$, $A=\begin{bmatrix}3&2&4&7&1\\-1&-9&7&6&8\end{bmatrix}$.
  
\begin{selectAll}
\choice[correct]{$\mbox{im}(T)=\RR^2$}
\choice{$\mbox{im}(T)$ is a line in $\RR^2$}
\choice{$\mbox{null}(A)=\{\vec{0}\}$ }
\choice{$\mbox{im}(T)=\RR^5$}
\choice[correct]{$dim(\mbox{row}(A))=3$}
\choice{$\mbox{im}(T)$ is a plane in $\RR^5$}
\choice{$\mbox{rank}(A)=5$}
\choice[correct]{$\mbox{rank}(A)=2$}
\choice{$dim(\mbox{row}(A))=5$}
\choice{$\mbox{row}(A)=\RR^5$}
\choice[correct]{$\mbox{nullity}(A)=3$}
\choice[correct]{$dim(\mbox{null}(A^T))=3$}
\end{selectAll}
  
\begin{solution}

  If we take \texttt{rref(A)}, we get

  $$\begin{bmatrix}1&0&2&3&1\\0&1&-1&-1&-1\end{bmatrix}.$$

  At most, the image of $A$ would be $\RR^2$. Since the rank of $A$ is $2$ (note the two pivot columns), we indeed know that $\mbox{im}(A)=\RR^2$, as opposed to some line in $\RR^2$ (or $\vec{0}$.)

  This means that $\mbox{dim}(\mbox{ker}(T))=3$, so a $3$-dimensional subspace of $\RR^5$ maps to $\vec{0}$.

\end{solution}

Which vectors are in the kernel of $T$?

\begin{selectAll}

\choice{$\sigma\begin{bmatrix}7\\6\end{bmatrix}$}

\choice[correct]{$\tau\begin{bmatrix}-2\\1\\1\\0\\0\end{bmatrix}$}

\choice{$\tau\begin{bmatrix}-2\\1\\1\\0\\0\end{bmatrix}+\sigma\begin{bmatrix}0\\1\\0\\1\\0\end{bmatrix}+\rho\begin{bmatrix}-3\\1\\0\\1\\0\end{bmatrix}$}

\choice[correct]{$\tau\begin{bmatrix}-1\\1\\0\\0\\1\end{bmatrix}+\sigma\begin{bmatrix}-2\\1\\1\\0\\0\end{bmatrix}+\rho\begin{bmatrix}-3\\1\\0\\1\\0\end{bmatrix}$}

\choice{$\sigma\begin{bmatrix}3\\-1\end{bmatrix}+\sigma\begin{bmatrix}1\\8\end{bmatrix}+\sigma\begin{bmatrix}2\\-9\end{bmatrix}$}

\end{selectAll}

\end{problem}
 
 

\end{document}